{"version":3,"sources":["scripts/main.js"],"names":["listURL","detailsURL","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","json","getPhones","phones","getPhonesDetails","phonesWithDetails","map","id","all","createList","arr","document","body","insertAdjacentHTML","phone","name","join","catch","error","console","log"],"mappings":";AAAA,aAGA,IAAMA,EAAU,wEAEVC,EAAa,oEAEnB,SAASC,EAAQC,GACRC,OAAAA,MAAMD,GACVE,KAAK,SAAAC,GASGA,OARFA,EAASC,IACZC,WAAW,WACFC,OAAAA,QAAQC,OACb,IAAIC,MAASL,GAAAA,OAAAA,EAASM,WAEvB,KAGEN,EAASO,SAItB,IAAMC,EAAY,WACTZ,OAAAA,EAAQF,GACZK,KAAK,SAAAU,GACGA,OAAAA,KAIb,SAASC,EAAiBD,GAClBE,IAAAA,EAAoBF,EAAOG,IAAI,SAAY,GAATC,IAAAA,EAAAA,EAAAA,GAC/BjB,OAAAA,EAAWD,GAAAA,OAAAA,GAAakB,OAAAA,EAA/B,YAGKV,OAAAA,QAAQW,IAAIH,GAGrB,SAASI,EAAWC,GAClBC,SAASC,KAAKC,mBAAmB,YAE3BH,qBAAAA,OAAAA,EAAIJ,IAAI,SAACQ,GACHA,MAAAA,iBAAAA,OAAAA,EAAMC,KADJ,mBAEPC,KAAK,IAJZ,oBASFd,IACGT,KAAKW,GACLX,KAAKgB,GACLQ,MAAM,SAAAC,GAELC,QAAQC,IAAI,IAAIrB,MAAMmB","file":"main.89daad71.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line max-len\nconst listURL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\n// eslint-disable-next-line max-len\nconst detailsURL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nfunction request(url) {\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          return Promise.reject(\n            new Error(`${response.status}`)\n          );\n        }, 5000);\n      }\n\n      return response.json();\n    });\n}\n\nconst getPhones = () => {\n  return request(listURL)\n    .then(phones => {\n      return phones;\n    });\n};\n\nfunction getPhonesDetails(phones) {\n  const phonesWithDetails = phones.map(({ id }) => {\n    return request(`${detailsURL}${id}.json`);\n  });\n\n  return Promise.all(phonesWithDetails);\n}\n\nfunction createList(arr) {\n  document.body.insertAdjacentHTML('beforeend', `\n    <ul>\n      ${arr.map((phone) => `\n        <li>${phone.name}</li>\n      `).join('')}\n    </ul>\n  `);\n}\n\ngetPhones()\n  .then(getPhonesDetails)\n  .then(createList)\n  .catch(error => {\n    // eslint-disable-next-line no-console\n    console.log(new Error(error));\n  });\n"]}